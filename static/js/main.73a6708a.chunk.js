(this["webpackJsonpsea-war"]=this["webpackJsonpsea-war"]||[]).push([[0],[,function(e,t,a){e.exports={title:"App_title__3qFBo",subtitle:"App_subtitle__T4mfn",wrap:"App_wrap__1f6FR",infoWrap:"App_infoWrap__275U4",text:"App_text__2p0qp",startWindow:"App_startWindow__tcwsi"}},,function(e,t,a){e.exports={message:"Table_message__1_pGp",tableWrap:"Table_tableWrap__3gxLd",table:"Table_table__28TwD",cell:"Table_cell__-IGHO",miss:"Table_miss__3Ft-t",hit:"Table_hit__2Izhg",sunk:"Table_sunk__v56t-"}},,,,,function(e,t,a){e.exports={title:"ResultWindow_title__3dtRW",text:"ResultWindow_text__NSMKI"}},,,,function(e,t,a){e.exports={button:"Button_button__zIcgS"}},function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),s=a.n(r),o=a(2),i=a(1),l=a.n(i),u=a(4),m=a(6),p=a(3),f=a.n(p),h=a(11),b=a.n(h),_=function(e){var t=e.message,a=e.scale,n=e.onCellClick,r=e.shotView;return c.a.createElement("div",{className:f.a.tableWrap},c.a.createElement("h2",{className:f.a.message},t),c.a.createElement("table",{className:f.a.table},c.a.createElement("tbody",null,function(e){for(var t=[],a=[],s=0;s<e;++s)t.push(s),a.push(s);return t.map((function(e){return c.a.createElement("tr",{key:"".concat(e,"row")},a.map((function(t){var a;return c.a.createElement("td",{className:b()((a={},Object(m.a)(a,f.a.cell,!0),Object(m.a)(a,f.a.hit,-1!==r.hitView.indexOf("".concat(e).concat(t))),Object(m.a)(a,f.a.miss,-1!==r.missView.indexOf("".concat(e).concat(t))),Object(m.a)(a,f.a.sunk,-1!==r.sunkView.indexOf("".concat(e).concat(t))),a)),id:"".concat(e).concat(t),key:"".concat(e).concat(t),onClick:n})})))}))}(a))))},j=a(8),d=a.n(j),E=a(12),O=a.n(E),v=function(e){var t=e.text,a=e.onClick;return c.a.createElement("button",{className:O.a.button,onClick:a},t)},x=function(e){var t=e.shots,a=e.ships;return c.a.createElement("div",{className:d.a.wrap},c.a.createElement("h2",{className:d.a.title},"\u041a\u043e\u043d\u0435\u0446 \u0438\u0433\u0440\u044b.",c.a.createElement("br",null),"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"),c.a.createElement("p",{className:d.a.text},"\u041f\u043e\u0442\u043e\u043f\u043b\u0435\u043d\u043e \u043a\u043e\u0440\u0430\u0431\u043b\u0435\u0439: ",a,c.a.createElement("br",null),"\u0412\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 \u0441\u0434\u0435\u043b\u0430\u043d\u043e: ",t),c.a.createElement(v,{text:"\u0421\u044b\u0433\u0440\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430",onClick:function(){return document.location.reload()}}))},w=function(e){var t=e.boardSize,a=[{shipLength:4,amount:1},{shipLength:3,amount:2},{shipLength:2,amount:3},{shipLength:1,amount:4}],r=Object(n.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],m=Object(n.useState)([]),p=Object(o.a)(m,2),f=p[0],h=p[1],b=Object(n.useState)([]),j=Object(o.a)(b,2),d=j[0],E=j[1],O=Object(n.useState)("\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043a\u043b\u0435\u0442\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0441\u0442\u0440\u0435\u043b"),v=Object(o.a)(O,2),w=v[0],g=v[1],k=Object(n.useState)(0),N=Object(o.a)(k,2),S=N[0],M=N[1],W=Object(n.useState)(!1),C=Object(o.a)(W,2),T=C[0],y=C[1],V=function(e,a){var n=Object(u.a)(e);return e.forEach((function(c,r){var s=1===a?c[0]:c[1];if(s>0){var o=c.split("");1===a?--o[0]:--o[1],n.push(o.join(""))}if(s<t-1){var i=c.split("");1===a?++i[0]:++i[1],n.push(i.join(""))}if(0===r)if(1===a){var l=c.split("");c[1]>0&&(l[1]=c[1]-1,n.push(l.join("")),c[0]>0&&(l[0]=c[0]-1,n.push(l.join(""))),c[0]<t-1&&(l[0]=+c[0]+1,n.push(l.join(""))))}else{var u=c.split("");c[0]>0&&(--u[0],n.push(u.join("")),c[1]<t-1&&(++u[1],n.push(u.join(""))),c[1]>0&&(u[1]=c[1]-1,n.push(u.join(""))))}if(r===e.length-1)if(1===a){var m=c.split("");c[1]<t-1&&(m[1]=+c[1]+1,n.push(m.join("")),c[0]<t-1&&(m[0]=+c[0]+1,n.push(m.join(""))),c[0]>0&&(m[0]=c[0]-1,n.push(m.join(""))))}else{var p=c.split("");p[0]<t-1&&(++p[0],n.push(p.join("")),c[1]<t-1&&(++p[1],n.push(p.join(""))),c[1]>0&&(p[1]=c[1]-1,n.push(p.join(""))))}})),n},A=function(e,t){for(var a=0;a<e.length;a++)for(var n=V(e[a].locations,e[a].direction),c=0;c<t.length;c++)if(n.indexOf(t[c])>=0)return!0;return!1},L=function(e,a){var n,c;1===a?(n=Math.floor(Math.random()*t),c=Math.floor(Math.random()*(t-e))):(n=Math.floor(Math.random()*(t-e)),c=Math.floor(Math.random()*t));for(var r=[],s=0;s<e;++s)1===a?r.push("".concat(n).concat(c+s)):r.push("".concat(n+s).concat(c));return r},I=Object(n.useState)(function(){var e=[],t=Math.floor(2*Math.random());return a.forEach((function(a){for(var n=0;n<a.amount;++n){var c=L(a.shipLength,t);if(A(e,c))n--;else{var r={locations:c,isSunk:!1,direction:t};e.push(r)}}})),e}()),z=Object(o.a)(I,2),F=z[0],R=z[1];return Object(n.useEffect)((function(){var e=Object(u.a)(F);e.forEach((function(e){e.isSunk||e.locations.every((function(e){return-1!==i.indexOf(e)}))&&(M(++S),e.isSunk=!0,E([].concat(Object(u.a)(d),Object(u.a)(e.locations))),g("\u041a\u043e\u0440\u0431\u0430\u043b\u044c \u0437\u0430\u0442\u043e\u043f\u043b\u0435\u043d! \u041f\u043e\u0442\u043e\u043f\u043b\u0435\u043d ".concat(S,"\u0439 \u043a\u043e\u0440\u0430\u0431\u043b\u044c")))})),R(e),F.every((function(e){return e.isSunk}))&&y(!0)}),[i]),c.a.createElement(c.a.Fragment,null,T?c.a.createElement(x,{shots:i.length+f.length,ships:S}):c.a.createElement(_,{message:w,scale:+t,onCellClick:function(e){var t=e.target.id;if(-1===i.indexOf(t)&&!function(e){return F.some((function(t){if(-1!==t.locations.indexOf(e)){var a=Object(u.a)(i);return a.push(e),l(a),g("\u041a\u043e\u0440\u0430\u0431\u043b\u044c \u043f\u043e\u0434\u0431\u0438\u0442!"),t}}))}(t)&&-1===f.indexOf(t)){var a=Object(u.a)(f);a.push(t),h(a),g("\u041c\u0438\u043c\u043e!")}},shotView:{hitView:i,missView:f,sunkView:d}}))},g=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement("main",{className:l.a.wrap},a?c.a.createElement("div",{className:l.a.startWindow,onKeyDown:function(e){return 13===e.keyCode?r(!1):null}},c.a.createElement("h1",{className:l.a.title},"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"),c.a.createElement("div",{className:l.a.infoWrap},c.a.createElement("p",{className:l.a.text},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u0443!"),c.a.createElement("p",{className:l.a.text},"\u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430 - \u043f\u043e\u0442\u043e\u043f\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u0440\u0430\u0431\u043b\u0438."),c.a.createElement("p",null,c.a.createElement("span",{className:l.a.subtitle},"\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u043e\u0441\u043a\u0438: "),"".concat(10,"x").concat(10)),c.a.createElement("p",{className:l.a.subtitle},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0440\u0430\u0431\u043b\u0435\u0439: "),c.a.createElement("p",{className:l.a.text},"1 \u043a\u043e\u0440\u0430\u0431\u043b\u044c \u2014 \u0447\u0435\u0442\u044b\u0440\u0451\u0445\u043f\u0430\u043b\u0443\u0431\u043d\u044b\u0439 "),c.a.createElement("p",{className:l.a.text},"2 \u043a\u043e\u0440\u0430\u0431\u043b\u044f \u2014 \u0442\u0440\u0451\u0445\u043f\u0430\u043b\u0443\u0431\u043d\u044b\u0435"),c.a.createElement("p",{className:l.a.text},"3 \u043a\u043e\u0440\u0430\u0431\u043b\u044f \u2014 \u0434\u0432\u0443\u0445\u043f\u0430\u043b\u0443\u0431\u043d\u044b\u0435"),c.a.createElement("p",{className:l.a.text},"4 \u043a\u043e\u0440\u0430\u0431\u043b\u044f \u2014 \u043e\u0434\u043d\u043e\u043f\u0430\u043b\u0443\u0431\u043d\u044b\u0435")),c.a.createElement(v,{text:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443",onClick:function(){return r(!1)}})):c.a.createElement(w,{boardSize:10}))};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.73a6708a.chunk.js.map